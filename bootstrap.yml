# Note: need to specify extra_vars, providing ansible_ssh_user, and ansible_ssh_pass
- name: Set up IPA Client
  hosts: lab_ipa_client
  become: yes
  collections:
    - freeipa.ansible_freeipa

  roles:
    - role: debian-freeipa-client
      when: ansible_facts['os_family'] == "Debian"
    - role: ipaclient
      state: present
      when: ansible_facts['os_family'] == "RedHat"

- name: Set up Basic Lab Packages
  hosts: all
  become: yes
  roles:
    - role: toal-common
